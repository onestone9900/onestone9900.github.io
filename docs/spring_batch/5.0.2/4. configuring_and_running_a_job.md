---
layout: default
title: 4. Configuring and Running a Job
parent: 5.0.2
grand_parent: SpringBatch
nav_order: 4
---


# 4. Configuring and Running a Job
도메인 섹션에서는, 다음 다이어그램을 가이드로 사용하여, 전체 아키텍처 설계를 논의했다.

![](https://docs.spring.io/spring-batch/docs/current/reference/html/images/spring-batch-reference-model.png)
이미지 7. 배치 개념(Stereotypes)

`잡(Job)` 객체는 스텝(Step)를 위한 단순한 컨테이너처럼 보일 수 있지만 많은 구성 옵션을 알고 있어야 한다. 또한, `잡`을 실행하는 방법과 해당 실행 중에 해당 메타데이터를 저장하는 방법에 대한 많은 옵션을 고려해야 한다. 이 챕터에서는 `잡`의 다양한 구성 옵션 및 런타임 문제에 대해 설명한다.


## 4.1. Configuring a Job
잡 인터페이스에는 여러 구현이 있다. 그러나, 이러한 구현은 제공된 빌더(자바 구성) 또는 XML 네임스페이스(XML 기반 구성) 뒤에서 추상화된다. 다음 예는 자바 및 XML 구성을 모두 보여준다:

`자바 구성`
```
  @Bean
  public Job footballJob(JobRepository jobRepository) {
    return new JobBuilder("footballJob", jobRepository)
                      .start(playerLoad())
                      .next(gameLoad())
                      .next(playerSummarization())
                      .build();
  }
```

`XML 구성`
```
  <job id="footballJob">
    <step id="playerload" parent="s1" next="gameLoad"/>
    <step id="gameLoad" parent="s2" next="playerSummarization"/>
    <step id="playerSummarization" parent="s3"/>
  </job>
```

앞의 예제는 상위(parent) 빈 정의를 사용하여 스텝을 생성한다. 특정 스텝의 세부 정보를 인라인으로 선언할 때의 추가 옵션은 스텝 구성 섹션을 참조하자. XML 네임스페이스는 기본값인 `잡리포지터리(jobRepository)`의 `id`로 리포지터리를 참조한다. 그러나, 이 기본값을 명시적으로 재정의할 수 있다:

```
  <job id="footballJob" job-repository="specialRepository">
    <step id="playerload"          parent="s1" next="gameLoad"/>
    <step id="gameLoad"            parent="s3" next="playerSummarization"/>
    <step id="playerSummarization" parent="s3"/>
  </job>
```

스텝 외에도, 잡 구성에는 병렬화(`<split>`), 선언적 흐름 제어(`<decision>`) 및 흐름 정의의 외부화(`<flow/>`)에 도움이 되는 다른 요소가 포함될 수 있다.